
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>vieron blog</title>
  <meta name="author" content="vieron">

  
  <meta name="description" content="Hace unos meses, se me metió entre ceja y ceja que tenía que existir alguna manera cross-browser de conseguir columnas justificadas en CSS sin tene...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://vieron.github.com/blog/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="vieron blog" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">vieron blog</a></h1>
  
    <h2>Front-end Web Development and Web Design stuff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:vieron.github.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/blog/2011/09/28/columnas-justificadas-en-css/">Columnas Justificadas en CSS</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2011-09-28T00:16:00+02:00" pubdate  data-updated="true" >Sep 28<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Hace unos meses, se me metió entre ceja y ceja que tenía que existir alguna manera cross-browser de conseguir columnas justificadas en CSS sin tener que dar anchos ni márgenes. La idea era tratar a las columnas como elementos inline (inline-block, en este caso) y aplicar un <code>text-align:justify</code> al contenedor.</p>

<h2>Primer problema</h2>

<p>El text-align: justify; justifica todo excepto la última línea (fila, en este caso). En la práctica estos son los dos casos que no se justifican:</p>

<ol>
<li>Si tienes una sola fila.</li>
</ol>


<p>  <iframe style="width: 100%; height: 150px" src="http://jsfiddle.net/R27GS/embedded/result,css,html/light/"></iframe></p>

<ol>
<li>La última fila, si tienes múltiples filas.</li>
</ol>


<p>  <iframe style="width: 100%; height: 220px" src="http://jsfiddle.net/Nmz6N/embedded/result,css,html/light/"></iframe></p>

<p>Empiezo a buscar y me entero que esta técnica se conoce como <a href="http://www.evolutioncomputing.co.uk/technical-1001.html">&#8220;Ben Justification&#8221;</a>. Encuentro diferentes
artículos para solucionarlo (aplicado a texto), pero lo hacen añadiendo marcado extra (<code>&lt;span&gt;&amp;nbsp;&lt;/span&gt;</code>) al final del bloque de texto, lo cual no me parece una opción.</p>

<p>En la <a href="http://www.w3.org/">w3c</a> ya se puede ver en el draft del módulo de texto de CSS3, la propiedad <a href="http://www.w3.org/TR/2011/WD-css3-text-20110901/#text-align-last">text-align-last</a>. Admite los valores <code>auto | start | end | left | right | center | justify </code> donde <code>justify</code> sería el que nos interesaría, pero por desgracia, a día de hoy esto no esta implementado en los navegadores.</p>

<p>Para Internet Explorer, de la versión 5 en adelante, tenemos la propiedad <code markdown="1"><a href="http://msdn.microsoft.com/en-us/library/ms531172%28v=vs.85%29.aspx">text-justify</a></code> con el valor <code>distribute-all-lines</code> que nos permite hacer justo lo que queremos.
Del 8 en adelante, la propiedad se usa como una extensión de CSS (con prefijo -ms-), me imagino que será porque esta propiedad aparece ya en las <a href="http://www.w3.org/TR/css3-text/#text-justify">specs de CSS3</a>.</p>

<p>En principio podríamos usarla así:<br /></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nt">-ms-text-justify</span><span class="o">:</span> <span class="nt">distribute-all-lines</span><span class="o">;</span> <span class="c">/* IE8+ */</span>
</span><span class='line'><span class="nt">text-justify</span><span class="o">:</span> <span class="nt">distribute-all-lines</span><span class="o">;</span> <span class="c">/* IE5+ */</span>
</span></code></pre></td></tr></table></div></figure>


<p>Por tanto tenemos cubierto todo el rango de versiones de Internet Explorer usadas actualmente, lo cual mola, pero nos quedan el resto (Chrome, Safari, Firefox&#8230;). Lo primero que pensé después de ver los artículos sobre &#8220;Ben Justification&#8221; fue que en los navegadores modernos ese marcado extra que se añadía, podría reemplazarse usando el pseudo-elemento <a href="http://www.w3.org/TR/CSS2/generate.html#before-after-content">:after</a>.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'>  <span class="nc">.grid</span><span class="nd">:after</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">content</span><span class="o">:</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">font-size</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
</span><span class='line'>    <span class="k">word-spacing</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>    <span class="k">display</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">inline</span><span class="o">-</span><span class="n">stack</span><span class="p">;</span>
</span><span class='line'>    <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
</span><span class='line'>    <span class="k">width</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>    <span class="k">visibility</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Conseguiríamos tener algo como esto:</p>

<iframe style="width: 100%; height: 220px" src="http://jsfiddle.net/S987X/embedded/result,css,html/light/"></iframe>


<br /><br />


<h2>Mas &#8220;problemitas&#8221;</h2>

<ol>
<li>Si hay desigualdad entre el número de elementos que entran en cada fila, el comportamiento no suele ser el necesitado.</li>
</ol>


<iframe style="width: 100%; height: 220px" src="http://jsfiddle.net/zVBYz/embedded/result,css,html/light/"></iframe>


<ol>
<li>El elemento generado con el <code>:after</code> hace que haya un espacio después de la última fila, que no he conseguido eliminar. Esto muchas veces no tiene porque ser un problema, pero si tienes un fondo de color como en el ejemplo, quizás si lo sea.</li>
</ol>


<h2>Código final en limpio</h2>

<p>Como a partir de Internet Explorer 8 ya se soportan los pseudo-elementos <code>:after</code> y <code>:before</code>, he evitado usar el <code>-ms-text-justify</code>, para que no se apliquen ambas soluciones.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.grid</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">text-align</span><span class="o">:</span><span class="k">justify</span><span class="p">;</span>
</span><span class='line'>  <span class="k">text</span><span class="o">-</span><span class="k">justify</span><span class="o">:</span> <span class="n">distribute</span><span class="o">-</span><span class="n">all</span><span class="o">-</span><span class="n">lines</span><span class="p">;</span>
</span><span class='line'> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.grid</span><span class="nd">:after</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">content</span><span class="o">:</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="k">font-size</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">word-spacing</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">display</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">inline</span><span class="o">-</span><span class="n">stack</span><span class="p">;</span>
</span><span class='line'>  <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
</span><span class='line'>  <span class="k">width</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">visibility</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nc">.col</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">display</span><span class="o">:</span> <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">inline</span><span class="o">-</span><span class="n">stack</span><span class="p">;</span>
</span><span class='line'>  <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
</span><span class='line'>  <span class="o">*</span><span class="k">display</span><span class="o">:</span><span class="k">inline</span><span class="p">;</span>
</span><span class='line'>  <span class="k">vertical-align</span><span class="o">:</span><span class="k">top</span><span class="p">;</span>
</span><span class='line'>  <span class="n">zoom</span><span class="o">:</span><span class="m">1</span><span class="p">;</span>
</span><span class='line'>  <span class="k">text-align</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Para terminar</h3>

<ul>
<li>Es un patrón bastante común, y se puede usar para estructurar a todos los niveles.</li>
<li>La gran ventaja de este patrón es su flexibilidad, no tener que establecer anchos ni márgenes de separación entre elementos, es una gran win.</li>
<li>De momento esta es la mejor solución que he encontrado, pero seguro que se puede mejorar.</li>
</ul>


<h4>Referencias:</h4>

<ul>
<li><a href="http://www.evolutioncomputing.co.uk/technical-1001.html">http://www.evolutioncomputing.co.uk/technical-1001.html</a></li>
<li><a href="http://stackoverflow.com/questions/4771304/justify-the-last-line-of-a-div">http://stackoverflow.com/questions/4771304/justify-the-last-line-of-a-div</a></li>
<li><a href="http://www.cs.tut.fi/~jkorpela/www/justify.html">http://www.cs.tut.fi/~jkorpela/www/justify.html</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/ms534671.aspx">http://msdn.microsoft.com/en-us/library/ms534671.aspx</a></li>
<li><a href="http://archivist.incutio.com/viewlist/css-discuss/30191">http://archivist.incutio.com/viewlist/css-discuss/30191</a></li>
</ul>

</div>
  
  


    </article>
  
  <nav class="pagination">
    <div>
      
      <a href="/blog/blog/archives">Blog Archives</a>
      
    </div>
  </nav>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/blog/2011/09/28/columnas-justificadas-en-css/">Columnas Justificadas en CSS</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/vieron">@vieron</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'vieron',
            count: 6,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/blog/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("vieron", 4, false);
    });
  </script>
  <script src="/blog/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/vieron" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @vieron</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll&#8230;</ul>
  <p><a href="http://pinboard.in/u:vieron">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "vieron"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - vieron -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
